<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Knowledge – adding-random-variables</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Knowledge</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../notes.html">Stanford Notes</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lecture-17-adding-random-variables" id="toc-lecture-17-adding-random-variables" class="nav-link active" data-scroll-target="#lecture-17-adding-random-variables">Lecture 17: Adding Random Variables</a>
  <ul class="collapse">
  <li><a href="#adding-random-variables-from-first-principle" id="toc-adding-random-variables-from-first-principle" class="nav-link" data-scroll-target="#adding-random-variables-from-first-principle">Adding random variables from first principle</a></li>
  <li><a href="#adding-parametric-random-variables" id="toc-adding-parametric-random-variables" class="nav-link" data-scroll-target="#adding-parametric-random-variables">Adding parametric random variables</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="lecture-17-adding-random-variables" class="level1">
<h1>Lecture 17: Adding Random Variables</h1>
<blockquote class="blockquote">
<p>Goals: - Learn how to add random variables from the same parametric distribution. - Derive from first principle how to add random variables more generally.</p>
</blockquote>
<p>We start with a new definition:</p>
<blockquote class="blockquote">
<ul>
<li><strong>Definition (i.i.d. random variables):</strong> Consider <span class="math inline">\(n\)</span> random variables <span class="math inline">\(X_{1}, X_{2}, \ldots X_{n}\)</span>. These random variables are considered iid if each random variable has the same probability distribution (same PMF or PDF) as the others and are all mutually independent. This implies expectation and variance are the same.</li>
</ul>
</blockquote>
<ul>
<li>Special note: by “same PDF/PMF”, we literally mean that the written out form must be identical. Specifically, the must all come from the same parametric distribution family and on top of that, have the <em>exact same parameters</em>.</li>
<li>Why is this important: because we may have some real world scenario where we need to have a ton of different RVs but they should all be the same distribution (and so they can all take on different values when the experiment is brought to life).</li>
<li>Making this assumption is vital and allows us to solve more complicated problems efficiently. Used in ML a lot!</li>
<li><strong>Example of iid</strong>: Let <span class="math inline">\(X_{i} \sim \operatorname{Exp}(\lambda)\)</span> where each <span class="math inline">\(X_{i}\)</span> is independent of the other random variables.</li>
<li><strong>Example (1) of non-iid</strong>: Let <span class="math inline">\(X_{i} \sim \operatorname{Exp}\left(\lambda_{i}\right)\)</span> where each <span class="math inline">\(X_{i}\)</span> is independent of the other random variables. Notice how the RVs have different parameters?! So they are not iid.</li>
<li><strong>Example (2) of non-iid</strong>: Let <span class="math inline">\(X_{i} \sim \operatorname{Exp}(\lambda)\)</span> where <span class="math inline">\(X_{1}=X_{2}=\cdots=X_{n}\)</span>. Not iid because each RV is conditionally dependent on the other. So all RVs that are equal to each other are not in fact not iid.</li>
</ul>
<p>Now we begin our real study of uncertainty theory. We start out by asking “how do we add random variables”?</p>
<section id="adding-random-variables-from-first-principle" class="level2">
<h2 class="anchored" data-anchor-id="adding-random-variables-from-first-principle">Adding random variables from first principle</h2>
<p>Note: the variables must be <strong>independent</strong> to add them. Question: do they need to be from the same family as well then?</p>
<p>Let us derive from first principles how one might add two random variables. Let <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> be iid discrete random variables. We want to find <span class="math inline">\(\mathrm{P}(X+Y=n)\)</span>. We start by realizing that this is equivalent to <span class="math inline">\(\mathrm{P}(X=i, Y=n-i)\)</span> for some <span class="math inline">\(i \in \mathbb{N}\)</span>. How so? For example, let <span class="math inline">\(i=3\)</span> for <span class="math inline">\(\mathrm{P}(X+Y=n)\)</span>. Plugging in, we obtain this: <span class="math inline">\(3+Y=n \rightarrow Y = n - 3\)</span>. Now we can repeat this idea for any <span class="math inline">\(i\)</span> and obtain the whole PMF for <span class="math inline">\(X+Y\)</span>!:</p>
<p><span class="math display">\[
\mathrm{P}(X+Y=n)=\sum_{i=-\infty}^{\infty} \mathrm{P}(X=i, Y=n-i).
\]</span></p>
<p>This repeated process is called a <strong>convolution</strong> (see <a href="https://www.youtube.com/watch?v=zbu8KQx9bqM">here</a> and <a href="https://www.youtube.com/watch?v=kwtf4WxjPKA&amp;list=PLeB45KifGiuHesi4PALNZSYZFhViVGQJK&amp;index=24&amp;t=204s">here</a> for more discussion) of discrete random variables. So convolution corresponds to addition which, by extenson, allows us to form linear combinations (linear transforms).</p>
<p>The continious version of this is defined as</p>
<p><span class="math display">\[
f(X+Y=n)=\int_{i=-\infty}^{\infty} f(X=n-i, Y=i) d i.
\]</span></p>
</section>
<section id="adding-parametric-random-variables" class="level2">
<h2 class="anchored" data-anchor-id="adding-parametric-random-variables">Adding parametric random variables</h2>
<p>We are in luck. In practice, we generally won’t need to compute the convolution between two distributions if the RVs are from the families of distributions we know about: these families already have their sums derived!</p>
<p>See the course reader for the equations.</p>
<p>I will add some of my own thoughts and examples here.</p>
<ul>
<li><p><strong>Example:</strong> here is an intuitive example. We have two groups of people</p>
<ul>
<li>P1: 50 people, each independently infected with <span class="math inline">\(p=0.1\)</span></li>
<li>P2: 100 people, each independently infected with <span class="math inline">\(p=0.4\)</span></li>
<li>Question: Probability of more than 40 infections?
<ul>
<li>Solution: your first thought is probably to define two binomial random variables and just add them. Let <span class="math inline">\(P_1 \sim bin(50,0.1)\)</span> and let <span class="math inline">\(P_1 \sim bin(100,0.4)\)</span>. But we have a problem. We can’t add binomials with different probability parameters (see course reader equation definitions)! So what we do now? We <strong>approximate the binomials with normals</strong>!!!<br>
</li>
<li>The key point here is that you should try to rearrange your problem to get it in terms of something you know how to work with.</li>
<li>Though remember to perform continuinty correction when tranforming from the discrete to continious realm.</li>
</ul></li>
</ul></li>
<li><p>I want to stress that adding RVs is an important problem solving strategy. When given questions of the form above, you can try to break it down and solve it from first principles. But if you just realize that you can split it up into two RVs and sum them up, it becomes easier. This gives us some nostolgia from when we first discussed RVs; why did we introduce them to begin with? Because it made it significantly easier to work with some core probability problems!</p></li>
<li><p><strong>Remark:</strong> Say we have some random variable, <span class="math inline">\(X\)</span>. What is <span class="math inline">\(2X\)</span>? Hold your horses. It is not like what we did above. In fact, this is an invalid expression. Can you picture why? Because <span class="math inline">\(X\)</span> is not independent from itself! So instead, we must use a <strong>linear transform</strong>.</p></li>
<li><p><strong>Remark:</strong> subtraction is just addition by linear transforming the second part of the expression with -1 first. So <span class="math inline">\(X-Y=X+(-1Y)=X+(-Y)\)</span>.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>